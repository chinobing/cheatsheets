---
title: 高精度定位
category: 新能源汽车 | Electric Vehicle
layout: 2017/sheet
tags: [star]
updated: 2022-10-11
keywords: zdjs gjddw 自动驾驶
intro: 自动驾驶高精度定位相关的知识点
---

## 自动驾驶
{: .-one-column}

### 高精度定位分类
- 基于信号的定位，典型代表就是GNSS定位，即全球卫星导航系统；
- 航迹推算，IMU _(惯性测量单元)_，其根据上一时刻的位置和方位推断现在的位置和方位；
- 环境特征匹配，基于激光雷达/立体视觉的定位，用观测到的特征和数据库中存储的特征进行匹配，得到当前时刻车辆的位置和姿态。

注：`IMU`，即惯性测量单元，它由三个单轴的加速度计和三个单轴的陀螺仪组成，加速度计检测物体在导航坐标系内三轴的加速度信号，而陀螺仪检测载体相对于导航坐标系的角速度信号，通过信号处理，可得出物体的姿态；


### 优缺点

| 定位方法                   | 优点                                                    |缺点                                                      |
| ------------------------ | :------------------------------------------------------- | :------------------------------------------------------- |
| `定位方法`                 | `优点`                                                |`缺点`                                                      |
|GNSS-RTK定位               |1）可实现全球、全天候、全天时定位；2）绝对位置准确           |1)依赖卫星信号，受遮档时，信号丢失，无法定位； 2)易受电磁环墙干扰； 3)数烟更新领率低|
|[惯性导航定位](../Semiconductor/IMU.md) _(IMU)_         |1）不依赖于任何外部信息，不易受外界电位干扰影响； 2)能提供位置、速度、航向和姿态角数据，所产生的导航信息连续性好而且噪声低；3)数据更新率高、短期精度和稳定性好  |1)存在累计误差|
|环境特征匹配定位            |1）可获得周围环境3D信息                                   |1）传感器受天气、环境、光线等条件的影响|
{: .-custom}

## 惯性导航系统（INS）
{: .-two-column}
### 介绍
惯性导航系统有望凭借其自主性成为自动驾驶高精度定位中必不可少的关键部件，是L3及以上等级自动驾驶车辆不可或缺的模块，能够在GPS、GNSS、5G等外部信号不佳时通过自身运动信息实现定位。

- 是一种自主式推算导航技术，不依赖于外部信息、也不向外部辐射能量，因此具有隐蔽性好、不受外界电磁干扰影响等独特优势。
- 是利用惯性传感器 _(IMU)_ 测量载体的比力及角速度信息，结合给定的初始条件，与GNSS等系统的信息融合，从而进行实时推算速度、位置、姿态等参数的自主式导航系统。

#### 原理
- 以 `陀螺` 和 `加速度计` 为敏感器件的导航参数解算系统，该系统**根据陀螺的输出建立导航坐标系**，**根据加速度计输出解算出运载体在导航坐标系中的速度和位置**。
- 惯性导航的基本工作原理是以**牛顿力学定律**为基础，通过测量载体在惯性参考系的加速度，将它对时间进行积分，且把它变换到导航坐标系中，就能够得到在导航坐标系中的速度、偏航角和位置等信息。
- 惯性导航系统属于推算导航方式，即从一已知点的位置根据连续测得的运动体航向角和速度推算出其下一点的位置，因而可连续测出运动体的当前位置。
- 惯性导航系统中的陀螺仪用来形成一个导航坐标系，使加速度计的测量轴稳定在该坐标系中，并给出航向和姿态角；加速度计用来测量运动体的加速度，经过对时间的一次积分得到速度，速度再经过对时间的一次积分即可得到距离。
{: .-custom}

### 缺点
- 无辅助惯性导航系统的一个致命弱点是`漂移` _(**无辅助**是指只使用加速度计和陀螺仪测量来计算位置的系统, **漂移**是用来描述加速度计和陀螺仪测量中的小误差积累的术语，这种小误差逐渐导致INS位置估计越来越不准确)_
- INS 中的漂移是以累积方式出现。每次读取加速度计或陀螺仪时，读数都会出现微小的误差。如果我们只读取一个读数就可以得出我们加速或转弯的速度，那么这将不是问题。但是，由于导航计算机正在对每个测量结果进行累加，以计算出它是如何从之前的位置估计值移动的，因此微小的误差会随着时间推移而增加。
{: .-custom}

#### 例子
```
为什么发生漂移?
想象一下，用一根 5 米长的卷尺测量木材的长度。
如果您能以 1 毫米的精度读取卷尺上的刻度，则很容易说出这根木材长 4 米 ± 1 毫米。
如果您只能找到 0.5 米长的卷尺，而您仍然只能以 1 毫米的精度读取它，那么在完成测量并与卷尺一起移动 8 次时，您只能说该木材长 4 米 ± 8 毫米。实际上，您可能根本不会量到 4 m 长。
```

#### 解决方式
- 当把INS和GPS结合起来，创建一个GPS辅助INS（也可以写成GPS+INS），就能解决了漂移的问题，也解决了影响GPS的问题

### 惯导 VS GPS
- 打开 GPS 接收器，假设一切正常，在很短的时间后，它将生成位置测量值。**接收器生成的位置测量值非常具体，不存在 GPS 的不精确性**。它指出“您在这个纬度和这个经度”- 换句话说，它用已知的坐标系提供给我们一个绝对位置
- 惯性导航系统不能这样工作。就它们而言，**它们生成的测量值是相对于他们最后已知的位置**。因此，即使在惯性导航系统已经打开几分钟后，它也不能说“您在这个纬度和这个经度”，但它可能会说，“您没有从开始位置移动“

#### 为什么要使用惯性导航系统呢？
- 如果GPS因各种原因不能告诉你你在哪里，那么它们是如何能够将人类导航到月球上的，为什么潜艇不会一直坠毁，飞机和导弹又是如何找到方向的？
- 这些问题的答案很简单。惯性导航系统可以计算出它所处的位置与它的起点--因此，**如果你告诉INS的起点，它就可以根据自己的测量结果轻松地计算出现在的位置**。这就是宇宙飞船、潜艇、飞机和导弹如何使用INS成功导航的原因--因为它们知道自己的起点。

### 惯性导航产业链
![](https://pic.f10.org/i/2022/09/13/h2or3p.png)

### 上游
- 惯性导航系统是利用陀螺仪和加速度计为传感元件，通过测量惯性空间的旋转角速度和线加速度，根据经典的惯性力学原理建立空间三维运动方程，实时解算载体的速度、位置、姿态等运动全部参量。

#### 陀螺仪
- ![](https://pic.f10.org/i/2022/09/13/h7tiup.png)

#### 加速计
- 通过跟踪加速度的大小，以及持续时间的长短，INS可以很容易地通过将加速度乘以时间来计算出速度是多少

```
例如，如果它在5秒内看到2.5米/秒²的加速度，并假设初始速度为0米/秒，那么现在INS的速度一定是12.5米/秒（2.5米/秒²×5秒=12.5米/秒）。
距离也可以计算。可以用s=0.5×at²来计算。(其中：s为距离, a为加速度,t为时间)

在这种情况下，假设惯性导航系统看到X轴上的加速度，它可以计算出它已经向前移动了31.25米（0.5×2.5米/秒²×5秒²=31.25米）。
```

### 中游：惯性导航系统产品
- `激光惯导` **精度最高**，战略导弹、战斗机、直升机、潜艇和舰艇通常采用激光系统作为主惯导系统，成本为百万级别。
- `光纤惯导` 精度整体略次于激光惯导系统，在卫星、中程导弹、直升机和教练机也有广泛应用，成本为几十万级别。
- `MEMS惯导` 精度相对较低，能够在短时间内保持高精度，但具备**成本低、体积小**的优势，在战术导弹、鱼雷等消耗性武器上有广泛的应用，成本为十万元级别。

#### MEMS惯性导航传感器 - 制造商
- ![](https://pic.f10.org/i/2022/09/13/lvc4ej.png)

####  MEMS惯性导航传感器 - 市场玩家
- ![](https://pic.f10.org/i/2022/09/13/lxl1zz.png)

### 下游
- 军用领域方面，惯导系统在舰艇船舶、航空飞行器、航天飞机、制导武器、陆地车辆、机器人等装备上均有所应用。
- 民用市场包括大地测量、石油钻井、电子交通、汽车安全、消费电子等领域。

#### 自动驾驶应用
- 小鹏P5/P7已标配惯性导航、蔚来ET7、智己L7、华为AITO、哪吒汽车等车型也将配置惯性导航
- Waymo、Apollo、Momenta等面向L4路线的自动驾驶科技企业亦采用惯性导航作为自动驾驶标配硬件

### 技术瓶颈
- 高精度惯组芯片设计、封装以及组合导航算法设计技术

#### 算法
- 算法的优劣决定传感器是否能发挥其最佳性能，也决定了惯性导航系统的稳定性和可靠性


### 行业玩家
- 广州导远电子
- 上海戴世智能科技有限公司
- 北京羲朗科技有限公司
- [湖南北云科技有限公司](https://www.bynav.com/cn/home)

## 主流解决方案
{: .-two-column}

### 融合方式
自动驾驶车辆高精度定位目前主流解决方案普遍采用融合方式，大体上有：

- 基于GPS和IMU传感器的融合的组合导航定位；
- 基于激光雷达点云特征与高精地图的环境特征匹配定位；
- 基于摄像头的道路特征识别为主 + GPS定位为辅助的形式；
- 绝对定位（GNSS） + 相对定位（IMU + 环境特征匹配定位）；首先利用车辆自带的GPS和IMU传感器作出大的位置判断，然后用预选准备好的高精度地图与激光雷达点云图像以及摄像头图像特征相匹配，即放在一个坐标系内做配准，配对成功后确认车辆位置；

### 多传感器融合定位解决方案示例图
- ![](https://pic.f10.org/i/2022/09/09/r2rp7q.png)


## 参考
* [自动驾驶系统入门（二） -  车辆定位与高精地图 - 望天涯的文章](https://zhuanlan.zhihu.com/p/79247065) _(知乎)_
* [惯性导航：自动驾驶高精度定位百亿蓝海 - 老范说股的文章](https://zhuanlan.zhihu.com/p/455605210) _(知乎)_
* [深迪半导体](http://www.senodia.com/applications/index?locale=zh-CH)
* [加速计](https://www.oxts.com/zh/accelerometers/) _(OXTS)_
* [惯性导航。漂移](https://www.oxts.com/zh/ins-drift/) _(OXTS)_